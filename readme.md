# StockPred - AI Stock Analytics Platform

## Overview

StockPred is a full-stack web application for stock price analytics and prediction. The platform displays historical stock price data, visualizes performance trends through interactive dashboards, and uses machine learning models (Prophet, LSTM, ARIMA) to predict future stock prices. Built with a modern fintech-inspired dark theme, it provides a terminal-like experience for analyzing 100+ companies across various sectors.

## User Preferences

Preferred communication style: Simple, everyday language.

## System Architecture

### Frontend Architecture

**Framework**: React with TypeScript and Vite
- **UI Library**: shadcn/ui components built on Radix UI primitives
- **Styling**: Tailwind CSS with custom dark fintech theme
- **State Management**: TanStack React Query for server state
- **Routing**: Wouter (lightweight client-side routing)
- **Charts**: Recharts for data visualization
- **Form Handling**: React Hook Form with Zod validation

**Design Pattern**: Component-based architecture with a shared Layout wrapper for authenticated pages. Pages are organized by feature (Dashboard, Predictions, Analytics, Portfolio, Settings). Mock data generators simulate real-time stock data and ML predictions client-side.

**Key Features**:
- Protected routes with authentication context
- Real-time stock chart visualization with multiple time ranges
- AI prediction panels with confidence intervals
- Company selector with search and filtering
- Responsive design with mobile support

### Backend Architecture

**Framework**: Express.js with TypeScript
- **Runtime**: Node.js with ES Modules
- **Session Management**: express-session with in-memory store
- **Authentication**: Simple password hashing using Web Crypto API (SHA-256)
- **Build System**: esbuild for server bundling, Vite for client

**Design Pattern**: RESTful API architecture with separation of concerns:
- `server/index.ts` - Express server setup and middleware
- `server/routes.ts` - API route definitions
- `server/storage.ts` - Database abstraction layer
- `server/db.ts` - Database connection setup
- `server/static.ts` - Static file serving
- `server/vite.ts` - Development server integration

**API Endpoints**:
- `POST /api/auth/signup` - User registration
- `POST /api/auth/login` - User authentication
- `POST /api/auth/logout` - Session termination
- `GET /api/auth/me` - Current user session

**Development Features**:
- Hot Module Replacement (HMR) via Vite middleware in development
- Production build serves static files from dist/public
- Session-based authentication with secure cookies

### Data Storage

**Database**: PostgreSQL via Neon serverless
- **ORM**: Drizzle ORM with type-safe queries
- **Migration Tool**: Drizzle Kit for schema management
- **Connection**: WebSocket-based connection pooling via @neondatabase/serverless

**Schema Design**:
- `users` table with email/password authentication
- UUID primary keys generated by PostgreSQL
- Timestamp tracking for user creation

**Data Model**:
```typescript
users {
  id: uuid (PK)
  email: text (unique)
  name: text
  password: text (hashed)
  createdAt: timestamp
}
```

**Future Considerations**: Schema is minimal and designed for expansion to include:
- Stock companies table
- Historical price data
- User portfolios
- ML prediction results
- User watchlists

### Authentication & Authorization

**Strategy**: Session-based authentication with server-side session storage
- Password hashing using SHA-256 (Web Crypto API)
- HTTP-only cookies for session management
- Protected routes enforced via React context
- Session expiry: 7 days

**Security Considerations**:
- CSRF protection through same-site cookie policy
- Secure cookies in production environment
- Session secret configurable via environment variable
- Basic password verification without bcrypt (improvement opportunity)

## External Dependencies

### Third-Party Services

**Database**: Neon Serverless PostgreSQL
- Required environment variable: `DATABASE_URL`
- WebSocket connection for low-latency queries
- Automatic connection pooling

**Stock Data** (Planned - Currently Mock):
- Yahoo Finance API (yfinance) for historical data
- Alpha Vantage API for real-time quotes
- Data ingestion scheduled via cron jobs

### Key NPM Packages

**Frontend Core**:
- `react` & `react-dom` - UI framework
- `wouter` - Client-side routing
- `@tanstack/react-query` - Server state management
- `recharts` - Chart rendering
- `date-fns` - Date manipulation

**UI Components**:
- `@radix-ui/*` - Accessible component primitives
- `tailwindcss` - Utility-first CSS
- `lucide-react` - Icon library
- `class-variance-authority` - Component variants

**Backend Core**:
- `express` - Web server framework
- `express-session` - Session middleware
- `drizzle-orm` - Type-safe ORM
- `@neondatabase/serverless` - Database client
- `ws` - WebSocket support

**Development Tools**:
- `vite` - Build tool and dev server
- `typescript` - Type checking
- `tsx` - TypeScript execution
- `esbuild` - Server bundling
- `@replit/vite-plugin-*` - Replit-specific tooling

**Validation & Schemas**:
- `zod` - Runtime type validation
- `drizzle-zod` - Drizzle schema to Zod conversion
- `@hookform/resolvers` - Form validation integration

### Environment Configuration

**Required Variables**:
- `DATABASE_URL` - PostgreSQL connection string (Neon)
- `SESSION_SECRET` - Session encryption key (defaults provided for development)
- `NODE_ENV` - Environment mode (development/production)

**Build Configuration**:
- TypeScript strict mode enabled
- ESNext module system
- Path aliases: `@/` (client), `@shared/` (shared types)
- Source maps for debugging
